(()=>{const e=window.devicePixelRatio>1,t=e=>{delete e.dataset.bg,delete e.dataset.bg2x,delete e.dataset.lazy,e.removeAttribute("loading")},s=s=>{s.classList.contains("is-loaded")||s.classList.contains("is-loading")||("VIDEO"===s.tagName?(e=>{if("VIDEO"!==e.tagName)return;e.classList.add("is-loading");const s=e.dataset.src;s&&(e.src=s,delete e.dataset.src);const a=e.querySelectorAll("source[data-src]");a.forEach((e=>{e.src=e.dataset.src,delete e.dataset.src})),(s||a.length)&&e.load();const d=()=>{e.classList.remove("is-loading"),e.classList.add("is-loaded"),t(e),e.removeEventListener("loadeddata",d),e.removeEventListener("error",o)},o=()=>{e.classList.remove("is-loading"),e.classList.add("is-error"),t(e),e.removeEventListener("loadeddata",d),e.removeEventListener("error",o)};e.addEventListener("loadeddata",d,{once:!0}),e.addEventListener("error",o,{once:!0}),e.readyState>=3&&d()})(s):s.dataset.bg&&(s=>{const a=e&&s.dataset.bg2x?s.dataset.bg2x:s.dataset.bg;if(!a)return;s.classList.add("is-loading");const d=new Image;d.onload=()=>{s.style.backgroundImage=`url("${a}")`,s.classList.remove("is-loading"),s.classList.add("is-loaded"),t(s)},d.onerror=()=>{s.classList.remove("is-loading"),s.classList.add("is-error"),t(s)},d.src=a})(s))},a=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(s(e.target),a.unobserve(e.target))}))}),{rootMargin:"300px",threshold:0}),d=e=>{(e.querySelectorAll?e.querySelectorAll('[loading="lazy"][data-bg], [loading="lazy"][data-src], video[loading="lazy"], [data-lazy]'):[]).forEach((e=>{e.classList.contains("is-loaded")||e.classList.contains("is-loading")||a.observe(e)}))},o=()=>{d(document),new MutationObserver((e=>{for(const t of e)if(t.addedNodes.length){d(t.target);break}})).observe(document.documentElement,{childList:!0,subtree:!0});const e=e=>d(e.target);document.addEventListener("shopify:section:load",e,{passive:!0}),document.addEventListener("shopify:section:reorder",e,{passive:!0}),document.addEventListener("shopify:block:select",e,{passive:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o();const r={scan:d,load:s,observer:a};window.lazyload=r,window.themeLazy=r})();
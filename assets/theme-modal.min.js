!function(){"use strict";const e="[data-modal]",t="[data-modal-trigger]",n="[data-modal-close]",o="[data-modal-overlay]",d="is-open",a="has-modal-open";let c=null,l=null;function s(e){const t=document.querySelector(`[data-modal="${e}"]`);return t?(window.themeDrawer&&"function"==typeof window.themeDrawer.closeAll&&window.themeDrawer.closeAll(),c&&c!==t&&r(c),l=document.activeElement,t.hidden=!1,t.classList.add(d),document.body.classList.add(a),c=t,requestAnimationFrame((()=>{const e=u(t);e.length&&e[0].focus()})),document.dispatchEvent(new CustomEvent("modal:open",{detail:{id:e,modal:t}})),!0):(console.warn(`[theme-modal] Modal "${e}" not found`),!1)}function r(e){if(!e||e.hidden)return!1;const t=e.dataset.modal;return e.classList.remove(d),e.hidden=!0,document.body.classList.remove(a),c===e&&(c=null),l&&"function"==typeof l.focus&&(l.focus(),l=null),document.dispatchEvent(new CustomEvent("modal:close",{detail:{id:t,modal:e}})),!0}function i(){document.querySelectorAll(e).forEach((e=>{e.hidden||r(e)}))}function u(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');return Array.from(t).filter((e=>!e.disabled&&null!==e.offsetParent))}function m(){document.addEventListener("click",(d=>{const a=d.target.closest(t);if(a){d.preventDefault();return void s(a.dataset.modalTrigger)}const c=d.target.closest(n);if(c){d.preventDefault();const t=c.closest(e);return void(t&&r(t))}const l=d.target.closest(o);if(l){const t=l.closest(e);t&&r(t)}})),document.addEventListener("keydown",(e=>{if("Escape"===e.key&&c)return e.preventDefault(),void r(c);c&&function(e,t){if("Tab"!==e.key)return;const n=u(t);if(!n.length)return;const o=n[0],d=n[n.length-1];e.shiftKey&&document.activeElement===o?(e.preventDefault(),d.focus()):e.shiftKey||document.activeElement!==d||(e.preventDefault(),o.focus())}(e,c)})),document.addEventListener("shopify:section:unload",(()=>{i()}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m(),window.themeModal={open:s,close:function(e){const t="string"==typeof e?document.querySelector(`[data-modal="${e}"]`):e;return!!t&&r(t)},closeAll:i,isOpen:function(e){const t=document.querySelector(`[data-modal="${e}"]`);return t&&!t.hidden}}}();
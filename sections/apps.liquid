{%- comment -%}
  ============================================================================
  BLOCK-APPS
  ============================================================================
  Container section for third-party app blocks.

  FEATURES:
  - Renders app blocks from Shopify App Extensions
  - Width alignment options
  - Color customization
  ============================================================================
{%- endcomment -%}

<div class="block-apps__content {{ section.settings.width }}{% if section.settings.custom_class != blank %} {{ section.settings.custom_class }}{% endif %}"{% if section.settings.anchor != blank %} id="{{ section.settings.anchor }}"{% endif %}>
  {%- for block in section.blocks -%}
    {% render block %}
  {%- endfor -%}
</div>

{% style %}
  #shopify-section-{{ section.id }}.block-apps {
    background-color: {{ section.settings.background_color | default: '#ffffff' }};
    color: {{ section.settings.text_color | default: '#111111' }};
    padding-block: {{ section.settings.padding_block }}em;
  }
{% endstyle %}

{% schema %}
{
  "name": "Apps",
  "tag": "section",
  "class": "block-apps",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "width",
      "label": "Width",
      "options": [
        { "value": "is-align-narrow", "label": "Narrow" },
        { "value": "is-align-small", "label": "Small" },
        { "value": "is-align", "label": "Regular" },
        { "value": "is-align-wide", "label": "Wide" },
        { "value": "is-align-full", "label": "Full" }
      ],
      "default": "is-align"
    },
    {
      "type": "range",
      "id": "padding_block",
      "label": "Vertical padding",
      "min": 0,
      "max": 6,
      "step": 0.5,
      "default": 0,
      "unit": "em"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#111111"
    },
    {
      "type": "header",
      "content": "Advanced"
    },
    {
      "type": "text",
      "id": "anchor",
      "label": "Anchor",
      "info": "ID for anchor links (e.g. #my-section)"
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom class",
      "info": "Add custom CSS class for styling"
    }
  ],
  "blocks": [
    {
      "type": "@app"
    }
  ],
  "presets": [
    {
      "name": "Apps",
      "category": "Page"
    }
  ]
}
{% endschema %}

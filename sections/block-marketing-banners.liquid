<section class="block-marketing-banners">
  <div class="block-marketing-banners__inner alignwide is-constrained">
    {%- if section.settings.heading != blank -%}
      {%- render 'html-marketing-headline',
        heading: section.settings.heading,
        subheading: section.settings.subheading,
        alignment: 'center'
      -%}
    {%- endif -%}
    
    <div class="block-marketing-banners__grid block-marketing-banners__grid--{{ section.settings.layout }}">
      {%- for block in section.blocks -%}
        <div class="block-marketing-banners__item" {{ block.shopify_attributes }}>
          {%- render 'html-marketing-banner',
            text: block.settings.text,
            cta_text: block.settings.cta_text,
            cta_url: block.settings.cta_url,
            style: block.settings.style,
            dismissible: block.settings.dismissible
          -%}
        </div>
      {%- endfor -%}
    </div>
  </div>
</section>

{%- style -%}
  .block-marketing-banners__grid {
    display: grid;
    gap: 1rem;
    margin-top: 2rem;
  }
  
  .block-marketing-banners__grid--stacked {
    grid-template-columns: 1fr;
  }
  
  .block-marketing-banners__grid--two-column {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .block-marketing-banners__grid--three-column {
    grid-template-columns: repeat(3, 1fr);
  }
  
  @media (max-width: 989px) {
    .block-marketing-banners__grid--three-column {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (max-width: 749px) {
    .block-marketing-banners__grid--two-column,
    .block-marketing-banners__grid--three-column {
      grid-template-columns: 1fr;
    }
  }
{%- endstyle -%}

{% schema %}
{
  "name": "Marketing Banners",
  "tag": "section",
  "class": "block-marketing-banners",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        { "value": "stacked", "label": "Stacked" },
        { "value": "two-column", "label": "Two Columns" },
        { "value": "three-column", "label": "Three Columns" }
      ],
      "default": "stacked"
    }
  ],
  "blocks": [
    {
      "type": "banner",
      "name": "Banner",
      "settings": [
        {
          "type": "textarea",
          "id": "text",
          "label": "Banner Text",
          "default": "Important announcement"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "Button Text"
        },
        {
          "type": "url",
          "id": "cta_url",
          "label": "Button URL"
        },
        {
          "type": "select",
          "id": "style",
          "label": "Style",
          "options": [
            { "value": "info", "label": "Info" },
            { "value": "success", "label": "Success" },
            { "value": "warning", "label": "Warning" },
            { "value": "error", "label": "Error" },
            { "value": "promo", "label": "Promo" }
          ],
          "default": "promo"
        },
        {
          "type": "checkbox",
          "id": "dismissible",
          "label": "Dismissible",
          "default": false
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Marketing Banners",
      "category": "Theme Marketing",
      "blocks": [
        {
          "type": "banner",
          "settings": {
            "text": "Free shipping on orders over $50",
            "style": "promo"
          }
        }
      ]
    }
  ]
}
{% endschema %}
